"File: pc_uart.c     Assembler  Version HGASM0202      Page 1


   1  0000              ; Generated by holtek-gcc v3.19, Thu Sep 08 09:48:54 2022
   2  0000              ; 
   3  0000              ; Configuration:
   4  0000              ;       with long instruction
   5  0000              ;       Multi-ROM, Multi-RAM
   6  0000              ;       bits_per_rom_unit:16
   7  0000              ;       with mp1
   8  0000              ;       with tbhp, address(0x9)
   9  0000              ;          Use tabrd-const
  10  0000              ;       
  11  0000              ; SFR address of long-instruction arch:
  12  0000              ;    mp0 = -1,1,0
  13  0000              ;    mp1 = 4,3,2
  14  0000              ;    mp2 = 14,13,12
  15  0000              ;    tbp = 9,7,8
  16  0000              ;    acc = 5
  17  0000              ;    pcl = 6
  18  0000              ;    status = 10
  19  0000              ;    bp = 11
  20  0000              ;    intc = 16
  21  0000              ;       
  22  0000              ;       
  23  0000              ; use 'tabrdc' instead of 'tabrd'
  24  0000              ;       
  25  0000              
  26  0000              #pragma translator "holtek-gcc 4.6.4" "3.19" "build 20130711"
  27  0000              ; Rebuild 718
  28  0000              
  29  0000              ir equ [2]
  30  0000              mp equ [3]
  31  0000              sbp equ [4]
  32  0000              acc equ [5]
  33  0000              bp equ [11]
  34  0000              tblp equ [7]
  35  0000              tbhp equ [9]
  36  0000              status equ [10]
  37  0000              c equ [10].0
  38  0000              ac equ [10].1
  39  0000              z equ [10].2
  40  0000              ov equ [10].3
  41  0000              cz equ [10].6
  42  0000              sc equ [10].7
  43  0000              intc equ [16]
  44  0000              mduwr0 equ [59h]
  45  0000              mduwr1 equ [5ah]
  46  0000              mduwr2 equ [5bh]
  47  0000              mduwr3 equ [5ch]
  48  0000              mduwr4 equ [5dh]
  49  0000              mduwr5 equ [5eh]
  50  0000              mduwrctrl equ [5fh]
  51  0000              
  52  0000              extern ra:byte
  53  0000              extern rb:byte
  54  0000              extern rc:byte
  55  0000              extern rd:byte
  56  0000              extern re:byte
  57  0000              extern rf:byte
  58  0000              extern rg:byte
  59  0000              extern rh:byte
"File: pc_uart.ASM   Assembler  Version HGASM0202      Page 2

  60  0000              extern _Crom2Prom:near
  61  0000              extern _Crom2PromNext:near
  62  0000              
  63  0000              RAMBANK 0 @BITDATASEC, @BITDATASEC1
  64  0000              @HCCINIT	.section 'data'
  65  0000              @HCCINIT0	.section 'data'
  66  0000              @BITDATASEC	 .section 'data'
  67  0000              @BITDATASEC1	 .section 'data'
  68  0000              
  69  0000              #pragma debug scope 1 1
  70  0000              	extern __DELAY3:near
  71  0000              	extern __DELAYX3:near
  72  0000              	extern __DELAYX6:near
  73  0000              	extern __DELAYY5:near
  74  0000              	extern __DELAYY3:near
  75  0000              	extern _builtin_holtek_delay_2:byte
  76  0000              #pragma debug scope 2 1

  27  0000              #line 27 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
  27  0000              ___is_empty_constprop_3 .section 'code'
  27  0000              ___is_empty_constprop_3 proc
  29  0000              #line 29 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
  29  0000  0F01        	mov a,1
  29  0001  0080     E  	mov ra,a
  29  0002  1F00     E  	clr rb
  29  0003  0700     R  	mov a,_RxuartQueue[0]
  29  0004  0200     R  	sub a,_RxuartQueue[2]
  29  0005  0700     R  	mov a,_RxuartQueue[1]
  29  0006  1200     R  	sbc a,_RxuartQueue[3]
  29  0007  3F0A        	sz cz
  29  0008  2800     R  	jmp _L2
  29  0009              #line 29 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
  29  0009  1F00     E  	clr ra
  29  000A  1F00     E  	clr rb
  29  000B              _L2:
  29  000B  0003        	ret
  29  000C              ___is_empty_constprop_3 endp
  29  000C              #line 29 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
  29  000C              #pragma debug scope 1 1
  29  000C              ___wdtc equ [62]
  29  000C              ___pas1 equ [334]
  29  000C              ___u0cr1 equ [273]
  29  000C              ___u0cr2 equ [274]
  29  000C              ___brg0 equ [276]
  29  000C              ___intc3 equ [19]
  29  000C              ___mfi5 equ [56]
  29  000C              ___intc0 equ [16]
  29  000C              public _uart_init
  29  000C              #pragma debug scope 3 1
  82  000C              #line 82 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
  82  0000              _uart_init .section 'code'
  82  0000              _uart_init proc
  83  0000              #line 83 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
  83  0000  0FAF        	mov a,175
  83  0001  00BE        	mov [62],a
  84  0002              #line 84 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
  84  0002  0FC0        	mov a,192
  84  0003  80CE 0001   	lmov [334],a
  85  0005              #line 85 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
  85  0005  0F80        	mov a,128
"File: pc_uart.c     Assembler  Version HGASM0202      Page 3

  85  0006  8091 0001   	lmov [273],a
  86  0008              #line 86 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
  86  0008  0FE4        	mov a,228
  86  0009  8092 0001   	lmov [274],a
  87  000B              #line 87 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
  87  000B  0F33        	mov a,51
  87  000C  8094 0001   	lmov [276],a
  88  000E              #line 88 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
  88  000E  3193        	set [19].3
  89  000F              #line 89 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
  89  000F  3038        	set [56].0
  90  0010              #line 90 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
  90  0010  3010        	set [16].0
  90  0011              #pragma debug scope 4 3
  90  0011              ;begin block, line: 90.-1
  90  0011              #pragma debug scope 5 4
  90  0011              ;begin block, line: 90.-1
  24  0011              #line 24 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
  24  0011  1F00     R  	clr _RxuartQueue[2]
  24  0012  1F00     R  	clr _RxuartQueue[3]
  24  0013  1F00     R  	clr _RxuartQueue[0]
  24  0014  1F00     R  	clr _RxuartQueue[1]
  24  0015              #pragma debug scope 4 3
  24  0015              #pragma debug scope 3 1
  24  0015  0003        	ret
  24  0016              _uart_init endp
  24  0016              #line 24 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
  24  0016              #pragma debug scope 1 1
  24  0016              ___u0sr equ [272]
  24  0016              ___txr_rxr0 equ [275]
  24  0016              public _UART_ISR
  24  0016              #pragma debug scope 6 1
  98  0016              #line 98 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
  98  0016              rombank 0 @UART_ISR_code
  98  0000              @UART_ISR_code .section at 60 'code'
  98  0000  0080     E  	mov r1,a
  98  0001  070B        	mov a,bp
  98  0002  1F0B        	clr bp
  98  0003  2800     R  	jmp _UART_ISR
  98  0004              ROMBANK 0 _UART_ISR
  98  0004              #pragma debug scope 1 1
  98  0004              @dummy60 endp
  98  0004              #pragma debug scope 7 1
  98  0000              _UART_ISR .section 'code'
  98  0000              _UART_ISR proc
  98  0000  0080     E  	mov r2,a
  98  0001  070A        	mov a, status
  98  0002  0080     E  	mov r3,a
  98  0003  0703        	mov a,mp
  98  0004  0080     E  	mov r4,a
  98  0005  0704        	mov a,sbp
  98  0006  0080     E  	mov r5,a
  98  0007              _L7:
 100  0007              #line 100 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
 100  0007  B910 0001   	lsnz [272].2
 100  0009  2800     R  	jmp _L7
 101  000A              #line 101 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
 101  000A  8713 0001   	lmov a,[275]
 101  000C  0080     E  	mov ra,a
 101  000D              #pragma debug scope 8 7
"File: pc_uart.c     Assembler  Version HGASM0202      Page 4

 101  000D              ;begin block, line: 101.-1
 101  000D              #pragma debug scope 9 8
 101  000D              ;begin block, line: 101.-1
 101  000D              #pragma debug scope 10 9
 101  000D              ;begin block, line: 101.-1
 101  000D              #pragma debug scope 11 10
 101  000D              ;begin block, line: 101.-1
 101  000D              #pragma debug scope 12 11
 101  000D              ;begin block, line: 101.-1
  37  000D              #line 37 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
  37  000D  0F01        	mov a,1
  37  000E  0300     R  	add a,_RxuartQueue[2]
  37  000F  0080     E  	mov rb,a
  37  0010  0F00        	mov a,0
  37  0011  1300     R  	adc a,_RxuartQueue[3]
  37  0012  0080     E  	mov rc,a
  37  0013  1B10        	rrca intc
  37  0014  3410        	clr intc.0
  37  0015  0700     E  	mov a,rb
  37  0016  00D9        	mov mduwr0,a
  37  0017  0700     E  	mov a,rc
  37  0018  00DA        	mov mduwr1,a
  37  0019  0F78        	mov a,120
  37  001A  00DD        	mov mduwr4,a
  37  001B  0F00        	mov a,0
  37  001C  00DE        	mov mduwr5,a
  37  001D  0F06        	mov a,6
  37  001E              _LI1:
  37  001E  1785        	sdz acc
  37  001F  2800     R  	jmp _LI1
  37  0020  075D        	mov a,mduwr4
  37  0021  0080     E  	mov rb,a
  37  0022  075E        	mov a,mduwr5
  37  0023  0080     E  	mov rc,a
  37  0024  3C0A        	sz c
  37  0025  3010        	set intc.0
  37  0026  0700     E  	mov a,rb
  37  0027  0200     R  	sub a,_RxuartQueue[0]
  37  0028  0700     E  	mov a,rc
  37  0029  1200     R  	sbc a,_RxuartQueue[1]
  37  002A  3B0A        	snz cz
  37  002B  2800     R  	jmp _L8
  37  002C              _L9:
  37  002C              #pragma debug scope 11 10
  37  002C              #pragma debug scope 10 9
  37  002C              #pragma debug scope 9 8
  37  002C              #pragma debug scope 8 7
  37  002C              #pragma debug scope 7 1
 102  002C              #line 102 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
 102  002C  3638        	clr [56].4
 102  002D  2800     R  	jmp _L11
 102  002E              _L8:
 102  002E              #pragma debug scope 13 7
 102  002E              ;begin block, line: 102.-1
 102  002E              #pragma debug scope 14 13
 102  002E              ;begin block, line: 102.-1
 102  002E              #pragma debug scope 15 14
 102  002E              ;begin block, line: 102.-1
  49  002E              #line 49 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
  49  002E  0700     E  	mov a,rb
"File: pc_uart.c     Assembler  Version HGASM0202      Page 5

  49  002F  0080     R  	mov _RxuartQueue[2],a
  49  0030  0700     E  	mov a,rc
  49  0031  0080     R  	mov _RxuartQueue[3],a
  50  0032              #line 50 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
  50  0032  0F00     R  	mov a,low (offset _RxuartQueue+4)
  50  0033  0300     E  	add a,rb
  50  0034  0083        	mov mp,a
  50  0035  0F00     R  	mov a,high (offset _RxuartQueue+4)
  50  0036  1300     E  	adc a,rc
  50  0037  0084        	mov sbp,a
  50  0038  0700     E  	mov a,ra
  50  0039  0082        	mov ir,a
  50  003A  2800     R  	jmp _L9
  50  003B              _L11:
  50  003B              #pragma debug scope 14 13
  50  003B              #pragma debug scope 13 7
  50  003B              #pragma debug scope 7 1
  50  003B  0700     E  	mov a,r2
  50  003C  008B        	mov bp,a
  50  003D  0700     E  	mov a,r3
  50  003E  008A        	mov status,a
  50  003F  0700     E  	mov a,r4
  50  0040  0083        	mov mp,a
  50  0041  0700     E  	mov a,r5
  50  0042  0084        	mov sbp,a
  50  0043  0700     E  	mov a,r1
  50  0044  0004        	reti
  50  0045              _UART_ISR endp
  50  0045              
  50  0045              #line 50 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
  50  0045              #pragma debug scope 1 1
  50  0045              public _uart_send_data
  50  0045              #pragma debug scope 16 1
 106  0045              #line 106 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
 106  0000              _uart_send_data .section 'code'
 106  0000              _uart_send_data proc
 106  0000  00              local _uart_send_data_2 db 1 dup(?)	; 0,1
 106  0000  0080     E  	mov ra,a
 106  0001  0080     R  	mov _uart_send_data_2[0],a
 106  0002              #pragma debug variable 8 16 _uart_send_data_2+0 "tx_data"
 107  0002              #line 107 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
 107  0002  0700     E  	mov a,ra
 107  0003  8093 0001   	lmov [275],a
 107  0005              _L14:
 108  0005              #line 108 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
 108  0005  B810 0001   	lsnz [272].0
 108  0007  2800     R  	jmp _L14
 108  0008  0003        	ret
 108  0009              _uart_send_data endp
 108  0009              #line 108 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
 108  0009              #pragma debug scope 1 1
 108  0009              public _uart_send_str
 108  0009              #pragma debug scope 17 1
 111  0009              #line 111 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
 111  0000              _uart_send_str .section 'code'
 111  0000              _uart_send_str proc
 111  0000              public _uart_send_str_2
 111  0000  0002[           local _uart_send_str_2 db 2 dup(?)	; 2,0
            00
            ]
"File: pc_uart.c     Assembler  Version HGASM0202      Page 6

 111  0002              #pragma debug pointer 42 8 17
 111  0002              #pragma debug pointer 42 8 17
 111  0002              #pragma debug variable 42 17 _uart_send_str_2+0 "tx_str"
 112  0002              #line 112 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
 112  0000  2800     R  	jmp _L16
 112  0001              _L17:
 114  0001              #line 114 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
 114  0001  0700     E  	mov a,ra
 114  0002              	fcall _uart_send_data
 115  0009              #line 115 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
 115  0009  1480     R  	inc _uart_send_str_2[0]
 115  000A  3D0A        	sz z
 115  000B  1480     R  	inc _uart_send_str_2[1]
 115  000C              _L16:
 112  000C              #line 112 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
 112  000C  0700     R  	mov a,_uart_send_str_2[0]
 112  000D  0083        	mov mp,a
 112  000E  0700     R  	mov a,_uart_send_str_2[1]
 112  000F  0084        	mov sbp,a
 112  0010              	fcall _Crom2Prom
 112  0017  0080     E  	mov ra,a
 112  0018  1080     E  	sz ra
 112  0019  2800     R  	jmp _L17
 112  001A  0003        	ret
 112  001B              _uart_send_str endp
 112  001B              #line 112 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
 112  001B              #pragma debug scope 1 1
 112  001B              public _uart_receive
 112  001B              #pragma debug scope 18 1
 119  001B              #line 119 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
 119  0000              _uart_receive .section 'code'
 119  0000              _uart_receive proc
 119  0000  0004[           local _uart_receive_2 db 4 dup(?)	; 0,4
            00
            ]
 119  0004              #pragma debug variable 11 18 _uart_receive_2+0 "len"
 119  0004              #pragma debug variable 11 18 _uart_receive_2+2 "i"
 120  0004              #line 120 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
 120  0000  1F00     R  	clr _uart_receive_2[0]
 120  0001  1F00     R  	clr _uart_receive_2[1]
 120  0002              _L19:
 122  0002              #line 122 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
 122  0002              	fcall ___is_empty_constprop_3
 122  0009  0700     E  	mov a,ra
 122  000A  0500     E  	or a,rb
 122  000B  390A        	snz z
 122  000C  2800     R  	jmp _L23
 122  000D              #pragma debug scope 19 18
 122  000D              ;begin block, line: 122.-1
 122  000D              #pragma debug scope 20 19
 122  000D              ;begin block, line: 122.-1
 122  000D              #pragma debug scope 21 20
 122  000D              ;begin block, line: 122.-1
  58  000D              #line 58 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
  58  000D  0F01        	mov a,1
  58  000E  0300     R  	add a,_RxuartQueue[0]
  58  000F  0080     E  	mov rb,a
  58  0010  0F00        	mov a,0
  58  0011  1300     R  	adc a,_RxuartQueue[1]
  58  0012  0080     E  	mov rc,a
"File: pc_uart.c     Assembler  Version HGASM0202      Page 7

  58  0013  1B10        	rrca intc
  58  0014  3410        	clr intc.0
  58  0015  0700     E  	mov a,rb
  58  0016  00D9        	mov mduwr0,a
  58  0017  0700     E  	mov a,rc
  58  0018  00DA        	mov mduwr1,a
  58  0019  0F78        	mov a,120
  58  001A  00DD        	mov mduwr4,a
  58  001B  0F00        	mov a,0
  58  001C  00DE        	mov mduwr5,a
  58  001D  0F06        	mov a,6
  58  001E              _LI2:
  58  001E  1785        	sdz acc
  58  001F  2800     R  	jmp _LI2
  58  0020  075D        	mov a,mduwr4
  58  0021  0080     E  	mov rb,a
  58  0022  075E        	mov a,mduwr5
  58  0023  0080     E  	mov rc,a
  58  0024  3C0A        	sz c
  58  0025  3010        	set intc.0
  58  0026  0700     E  	mov a,rb
  58  0027  0080     R  	mov _RxuartQueue[0],a
  58  0028  0700     E  	mov a,rc
  58  0029  0080     R  	mov _RxuartQueue[1],a
  59  002A              #line 59 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
  59  002A  0F00     R  	mov a,low (offset _RxuartQueue+4)
  59  002B  0300     E  	add a,rb
  59  002C  0083        	mov mp,a
  59  002D  0F00     R  	mov a,high (offset _RxuartQueue+4)
  59  002E  1300     E  	adc a,rc
  59  002F  0084        	mov sbp,a
  59  0030              	fcall _Crom2Prom
  59  0037  0080     E  	mov ra,a
  59  0038  0F00     R  	mov a,low offset _rxBuffer
  59  0039  0300     R  	add a,_uart_receive_2[0]
  59  003A  0083        	mov mp,a
  59  003B  0F00     R  	mov a,high offset _rxBuffer
  59  003C  1300     R  	adc a,_uart_receive_2[1]
  59  003D  0084        	mov sbp,a
  59  003E  0700     E  	mov a,ra
  59  003F  0082        	mov ir,a
  59  0040              #pragma debug scope 20 19
  59  0040              #pragma debug scope 19 18
  59  0040              #pragma debug scope 18 1
 125  0040              #line 125 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
 125  0040  1480     R  	inc _uart_receive_2[0]
 125  0041  3D0A        	sz z
 125  0042  1480     R  	inc _uart_receive_2[1]
 125  0043  2800     R  	jmp _L19
 125  0044              _L23:
 122  0044              #line 122 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
 122  0044  1F00     R  	clr _uart_receive_2[2]
 122  0045  1F00     R  	clr _uart_receive_2[3]
 122  0046              _L21:
 128  0046              #line 128 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
 128  0046  0700     R  	mov a,_uart_receive_2[2]
 128  0047  0200     R  	sub a,_uart_receive_2[0]
 128  0048  0700     R  	mov a,_uart_receive_2[3]
 128  0049  1200     R  	sbc a,_uart_receive_2[1]
 128  004A  3B8A        	snz sc
"File: pc_uart.c     Assembler  Version HGASM0202      Page 8

 128  004B  2800     R  	jmp _L24
 130  004C              #line 130 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
 130  004C  0F00     R  	mov a,low offset _rxBuffer
 130  004D  0300     R  	add a,_uart_receive_2[2]
 130  004E  0083        	mov mp,a
 130  004F  0F00     R  	mov a,high offset _rxBuffer
 130  0050  1300     R  	adc a,_uart_receive_2[3]
 130  0051  0084        	mov sbp,a
 130  0052              	fcall _Crom2Prom
 130  0059              	fcall _uart_send_data
 128  0060              #line 128 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
 128  0060  1480     R  	inc _uart_receive_2[2]
 128  0061  3D0A        	sz z
 128  0062  1480     R  	inc _uart_receive_2[3]
 128  0063  2800     R  	jmp _L21
 128  0064              _L24:
 128  0064  0003        	ret
 128  0065              _uart_receive endp
 128  0065              #line 128 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
 128  0065              #pragma debug scope 1 1
 128  0065              public _Delayms
 128  0065              #pragma debug scope 22 1
 135  0065              #line 135 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
 135  0000              _Delayms .section 'code'
 135  0000              _Delayms proc
 135  0000              public _Delayms_2
 135  0000  0002[           local _Delayms_2 db 2 dup(?)	; 2,0
            00
            ]
 135  0002              #pragma debug variable 10 22 _Delayms_2+0 "del"
 137  0002              #line 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
 137  0000  1F00     E  	clr rb
 137  0001  1F00     E  	clr rc
 137  0002  2800     R  	jmp _L26
 137  0003              _L27:
 137  0003              #line 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
 137  0003              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
 137  0003              	IF 2000>263690
 137  0003              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
 137  0003              	ERRMESSAGE 'the value 2000of the argument exceeds the maxinum 263690'
 137  0003              	ENDIF
 137  0003              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
 137  0003              	IF 2000<0
 137  0003              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
 137  0003              	ERRMESSAGE 'the value 2000 of the argument exceeds the mininum 0'
 137  0003              	ENDIF
 137  0003              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
 137  0003              	IF 2000==0
 137  0003              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
 137  0003              	JMP $
 137  0003              	ENDIF
 137  0003              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
 137  0003              	IF (2000>=1) AND (2000<( 4 + __PBP__ * 2))
 137  0003              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
 137  0003              	NOP
 137  0003              	ENDIF
 137  0003              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
 137  0003              	IF (2000>=2) AND (2000<( 4 + __PBP__ * 2))
 137  0003              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
 137  0003              	NOP
"File: pc_uart.c     Assembler  Version HGASM0202      Page 9

 137  0003              	ENDIF
 137  0003              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
 137  0003              	IF (2000>=3) AND (2000<( 4 + __PBP__ * 2))
 137  0003              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
 137  0003              	NOP
 137  0003              	ENDIF
 137  0003              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
 137  0003              	IF (2000>=4) AND (2000<( 4 + __PBP__ * 2)) AND ( __PBP__ > 0 )
 137  0003              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
 137  0003              	NOP
 137  0003              	ENDIF
 137  0003              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
 137  0003              	IF (2000>=5) AND (2000<( 4 + __PBP__ * 2)) AND ( __PBP__ > 0 )
 137  0003              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
 137  0003              	NOP
 137  0003              	ENDIF
 137  0003              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
 137  0003              	IF (2000>=6) AND (2000<( 4 + __PBP__ * 2))  AND ( __PBP__ > 1 )
 137  0003              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
 137  0003              	NOP
 137  0003              	ENDIF
 137  0003              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
 137  0003              	IF (2000>=7) AND (2000<( 4 + __PBP__ * 2))  AND ( __PBP__ > 1 )
 137  0003              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
 137  0003              	NOP
 137  0003              	ENDIF
 137  0003              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
 137  0003              	IF (2000>=8) AND (2000<( 4 + __PBP__ * 2))  AND ( __PBP__ > 2 )
 137  0003              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
 137  0003              	NOP
 137  0003              	ENDIF
 137  0003              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
 137  0003              	IF (2000==9)  AND ( __PBP__ > 2 )
 137  0003              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
 137  0003              	NOP
 137  0003              	ENDIF
 137  0003              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
 137  0003              	IF (2000< ( 8 + __PBP__ * 2)) AND (2000>( 3 + __PBP__ * 2))
 137  0003              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
 137  0003              	fcall __DELAY3 + ( 7 + __PBP__ * 2) -2000
 137  0003              	ENDIF
 137  0003              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
 137  0003              	IF (2000< ( 0404h + __PBP__ * 2)) AND (2000>( 7 + __PBP__ * 2))
 137  0003              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
 137  0003              	MOV A,(2000-( 4 + __PBP__ * 2))/4
 137  0003              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
 137  0003              	fcall __DELAYX3 + 3 -((2000-( 4 + __PBP__ * 2)) MOD 4) 
 137  0003              	ENDIF
 137  0003              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
 137  0003              	IF (2000< ( 040bh + __PBP__ * 2)) AND (2000> ( 0403h + __PBP__ * 2))
 137  0003              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
 137  0003              	MOV A,0 
 137  0003              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
 137  0003              	fcall __DELAYX6 + ( 040ah + __PBP__ * 2) -2000
 137  0003              	ENDIF
 137  0003              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
 137  0003              	IF (2000 >= ( 040bh + __PBP__ * 2)) AND ((((2000-( 9 + __PBP__ * 2))%0402h)/4+1)>256)
 137  0003              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
 137  0003              	MOV A,(2000-( 9 + __PBP__ * 2))/0402h
 137  0003              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
"File: pc_uart.c     Assembler  Version HGASM0202      Page 10

 137  0003              	MOV _builtin_holtek_delay_2,A
 137  0003              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
 137  0003              	MOV A,0
 137  0003              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
 137  0003              	fcall __DELAYY5 +5- (((2000-( 9 + __PBP__ * 2))%0402h)%6) 
 137  0003              	ENDIF
 137  0003              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
 137  0003              	IF (2000 >= ( 040bh + __PBP__ * 2)) AND ((((2000-( 9 + __PBP__ * 2))%0402h)/4+1)<=256)
 137  0003              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
 137  0003  0F01        	MOV A,(2000-( 9 + __PBP__ * 2))/0402h
 137  0004              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
 137  0004  0080     E  	MOV _builtin_holtek_delay_2,A
 137  0005              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
 137  0005  0FF0        	MOV A,((2000-( 9 + __PBP__ * 2))%0402h)/4+1
 137  0006              ;# 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c" 1
 137  0006              	fcall __DELAYY3 +3-(((2000-( 9 + __PBP__ * 2))%0402h)%4) 
 137  000D              	ENDIF
 137  000D  1480     E  	inc rb
 137  000E  3D0A        	sz z
 137  000F  1480     E  	inc rc
 137  0010              _L26:
 137  0010  0700     E  	mov a,rb
 137  0011  0200     R  	sub a,_Delayms_2[0]
 137  0012  0700     E  	mov a,rc
 137  0013  1200     R  	sbc a,_Delayms_2[1]
 137  0014  3B0A        	snz cz
 137  0015  2800     R  	jmp _L27
 137  0016  0003        	ret
 137  0017              _Delayms endp
 137  0017              #line 137 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
 137  0017              #pragma debug scope 1 1
  95  0017              #line 95 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
  95  0017              public _rxBuffer
  95  0000              @HCCINIT0_rxBuffer .section 'data'
  95  0000  0078[       _rxBuffer	db 120 dup(0)
            00
            ]
  95  0078              #pragma debug array 43 8 120 1
  95  0078              #pragma debug array 43 8 120 1
  95  0078              #pragma debug variable 43 1 _rxBuffer "rxBuffer"
  95  0078              
  95  0000              @HCCINIT .section 'data'
  95  0000              #line 95 "C:\Users\jaden\Documents\HTK_Project\HT66F2390_uart_sample\pc_uart.c"
  95  0000              public _txBuffer
  95  0000              @HCCINIT0_txBuffer .section 'data'
  95  0000              _txBuffer	db 0
  95  0001              #pragma debug variable 8 1 _txBuffer "txBuffer"
  95  0001              
  95  0000              @HCCINIT .section 'data'
  95  0000              @HCCINIT0_RxuartQueue .section 'data'
  95  0000  007C[       _RxuartQueue	db 124 dup(0)
            00
            ]
  95  007C              #pragma debug struct_end
  95  007C              #pragma debug struct_end
  95  007C              #pragma debug variable 44 1 _RxuartQueue "RxuartQueue"
  95  007C              
  95  0000              @HCCINIT .section 'data'
  95  0000              #pragma debug struct_end
  95  0000              #pragma debug struct_end
"File: pc_uart.c     Assembler  Version HGASM0202      Page 11

  95  0000              #pragma debug union_end
  95  0000              #pragma debug union_end
  95  0000              #pragma debug variable 46 1 ___intc0 "__intc0" 1
  95  0000              #pragma debug struct_end
  95  0000              #pragma debug struct_end
  95  0000              #pragma debug union_end
  95  0000              #pragma debug union_end
  95  0000              #pragma debug variable 48 1 ___intc3 "__intc3" 1
  95  0000              #pragma debug struct_end
  95  0000              #pragma debug struct_end
  95  0000              #pragma debug union_end
  95  0000              #pragma debug union_end
  95  0000              #pragma debug variable 50 1 ___mfi5 "__mfi5" 1
  95  0000              #pragma debug struct_end
  95  0000              #pragma debug struct_end
  95  0000              #pragma debug union_end
  95  0000              #pragma debug union_end
  95  0000              #pragma debug variable 52 1 ___wdtc "__wdtc" 1
  95  0000              #pragma debug struct_end
  95  0000              #pragma debug struct_end
  95  0000              #pragma debug union_end
  95  0000              #pragma debug union_end
  95  0000              #pragma debug variable 54 1 ___u0sr "__u0sr" 1
  95  0000              #pragma debug struct_end
  95  0000              #pragma debug struct_end
  95  0000              #pragma debug union_end
  95  0000              #pragma debug union_end
  95  0000              #pragma debug variable 56 1 ___u0cr1 "__u0cr1" 1
  95  0000              #pragma debug struct_end
  95  0000              #pragma debug struct_end
  95  0000              #pragma debug union_end
  95  0000              #pragma debug union_end
  95  0000              #pragma debug variable 58 1 ___u0cr2 "__u0cr2" 1
  95  0000              #pragma debug variable 8 1 ___txr_rxr0 "__txr_rxr0" 1
  95  0000              #pragma debug variable 8 1 ___brg0 "__brg0" 1
  95  0000              #pragma debug struct_end
  95  0000              #pragma debug struct_end
  95  0000              #pragma debug union_end
  95  0000              #pragma debug union_end
  95  0000              #pragma debug variable 60 1 ___pas1 "__pas1" 1
  95  0000              extern r1:byte
  95  0000              extern r2:byte
  95  0000              extern r3:byte
  95  0000              extern r4:byte
  95  0000              extern r5:byte
  95  0000              
  95  0000              ; 
  95  0000              ; Generated by holtek-gcc v3.19, Thu Sep 08 09:48:54 2022
  95  0000              ; Rebuild 718
  95  0000              ; end of file


        0 Errors, 0